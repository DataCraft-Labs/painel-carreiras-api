{% extends "base.html" %}

{% block title %}Positions List{% endblock %}

{% block header %}Supported Positions{% endblock %}

{% block content %}
<div id="positions-content">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            {% for position in positions %}
            <tr>
                <td>{{ position.id }}</td>
                <td>{{ position.title }}</td>
                <td>{{ position.description }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <!-- Enhanced Pagination Controls -->
    <div class="pagination-controls">
        <form hx-get="/positions" hx-target="#positions-content">
            <button type="submit" name="page" value="{{ current_page - 1 }}"
                    {% if current_page <= 1 %}disabled{% endif %}>Previous</button>
            <span>Page {{ current_page }} of {{ total_pages }}</span>
            <button type="submit" name="page" value="{{ current_page + 1 }}"
                    {% if current_page >= total_pages %}disabled{% endif %}>Next</button>
            <!-- Rows-Per-Page Selector -->
            <select name="rows-per-page-select" onchange="this.form.submit()">
                <option value="10" {% if rows_per_page == 10 %}selected{% endif %}>10</option>
                <option value="20" {% if rows_per_page == 20 %}selected{% endif %}>20</option>
                <option value="50" {% if rows_per_page == 50 %}selected{% endif %}>50</option>
            </select>
        </form>
    </div>
</div>
{% endblock %}
